<!DOCTYPE html>
<html lang="fa" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>

    <title>Document</title>
    <style>
        .sentence {
            padding: 0.5rem;
            min-height: 45px;
            width: 100%;
            padding-left: 6rem;
            border-top: 1px solid #ccc;
            border-bottom: 1px solid #ccc;
            border-left: 1px solid #ccc;
            border-right: 1px solid #ccc;
        }

        .nonIf-sentences .sentence {
            padding-left: 1rem;
        }

        #then-sentences .sentence,
        #else-sentences .sentence {
            padding-left: 1rem;
        }

        .sentence:hover {
            background-color: #efefef;
        }

        #if-summary {
            padding: 5px 0;
            padding-left: 2rem;
        }

        .alert {
            border: 1px solid red !important;
        }

        .not-allowed {
            cursor: not-allowed;
            color: #aaaaaa;
        }

        .not-allowed:hover {
            background-color: white !important;
        }

        .if-sentence-child {
            padding: 10px;
            border: 1px solid #ccc;
        }

        .div-selected {
            background: #78d4f3 !important;
        }

        .if-sentence-child.div-selected {
            background: white !important;
        }
    </style>

</head>

<body>


    <div class="flex h-screen justify-center items-center">
        <button class="open-lower bg-blue-400 p-2 text-white rounded ">
            open modal
        </button>

        <!-- start lower modal -->
        <div id="lower-modal"
            class="bg-[#00000055] overflow-auto transition-all duration-300 ease-in-out flex fixed top-0 right-0 left-0 bottom-0 z-50 h-screen w-full">
            <!-- modal content -->
            <div class="bg-white transition-all duration-300 ease-in-out m-auto w-[800px] shadow-lg rounded">
                <!-- modal header -->
                <div class="flex justify-between items-center p-7">
                    <div class="underline">
                        Add Business Rule
                    </div>
                    <div class="close-lower text-black cursor-pointer w-4 h-4">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5}
                            stroke="currentColor" className="w-6 h-6">
                            <path strokeLinecap="round" strokeLinejoin="round" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </div>
                </div>

                <div class="border border-gray-200 border-solid"></div>

                <!-- modal body -->
                <div class="w-full p-7">
                    <div>
                        <label class="w-full " id="generic_name">Name</label>
                        <div class="w-full">
                            <input id="input-name" type="text"
                                class="w-full border border-solid border-[#cccccc] p-1 rounded alert" maxlength="50">
                            <label class="text-red-600 text-sm invisible" id="name-is-required">A name is
                                required.</label>
                        </div>
                    </div>


                    <div class="w-full my-4">
                        <label class="w-full" id="adminModelDescription">Description</label>
                        <div class="w-full">
                            <input id="InputDescription" type="text"
                                class="w-full border border-solid border-[#cccccc] p-1 rounded" maxlength="200">
                            <label class="hidden" id="descriptionIsRequired">A Description is required.</label>
                        </div>
                    </div>

                    <div class="w-full my-4">
                        <div class="">
                            <div class="w-full select-none">
                                <label>
                                    <input id="send-notification" type="checkbox">
                                    <span>Send Notifications</span>
                                </label>
                            </div>
                        </div>
                        <div class="w-full">
                            <select id="notification-receiver"
                                class="w-full p-2 bg-white border border-[#cccccc] rounded" disabled>
                                <optgroup label="Groups"></optgroup>
                                <optgroup label="Users">
                                    <option value="">MDM-SERVER\Administrator</option>
                                </optgroup>
                            </select>
                        </div>
                    </div>

                    <div class="w-full my-4">
                        <div class="">
                            <div class="w-full">
                                <label class="">
                                    <input type="checkbox" class="">
                                    <span>Excluded</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- start if container -->
                    <div id="if-container" class="w-full my-4">
                        <div class="w-full">If</div>
                        <div id="if-summary">
                        </div>

                        <div class="w-full pr-8 pt-2">
                            <div class="w-full ml-8 border border-solid border-[#cccccc]"></div>
                        </div>

                        <!-- start if sentences -->
                        <div class="pl-8 max-h-[350px] overflow-auto">
                            <div class="condition-block" id="if-sentences-container"></div>
                        </div>
                        <!-- end if sentences -->

                        <div id="if-opener" class="open-upper w-full pl-8 py-2 text-sm text-[#428bca] hover:underline">
                            <button class="open-upper cursor-pointer">
                                Add
                            </button>
                        </div>
                    </div>
                    <!-- end if container -->

                    <!-- start then container -->
                    <div id="thenContainer" class="my-4">
                        <div class="w-full">Then</div>

                        <div class="w-full pr-8 pt-2">
                            <div class="w-full ml-8 border border-solid border-[#cccccc]"></div>
                        </div>

                        <!-- start then sentences -->
                        <div class="pl-8 max-h-[200px] overflow-auto">
                            <div class="condition-block" id="then-sentences-container"></div>
                        </div>
                        <!-- end then sentences -->

                        <div id="then-opener" class="w-full ml-8 py-2 text-sm text-[#428bca] hover:underline">
                            <button class="open-upper cursor-pointer">
                                Add
                            </button>
                        </div>
                    </div>
                    <!-- end then container -->

                    <!-- start else container -->
                    <div id="elseContainer" class="my-4">
                        <div class="w-full">Else</div>

                        <div class="w-full pr-8 pt-2">
                            <div class="w-full ml-8 border border-solid border-[#cccccc]"></div>
                        </div>

                        <!-- start else sentences -->
                        <div class="pl-8 max-h-[200px] overflow-auto">
                            <div class="condition-block" id="else-sentences-container"></div>
                        </div>
                        <!-- end else sentences -->

                        <div id="else-opener" class="w-full py-2 ml-8 text-sm text-[#428bca] hover:underline">
                            <button class="open-upper cursor-pointer">
                                Add
                            </button>
                        </div>
                    </div>
                    <!-- end else container -->
                </div>
                <div class="border border-gray-200 border-solid"></div>
                <div class="w-full flex justify-end p-7 py-6">
                    <button id="lower-modal-save-button"
                        class="close-lower w-[140px] bg-[#1eb8eb] disabled:bg-[#a0b8c8] disabled:text-black hover:bg-[#0a6eeb] hover:text-white rounded py-2 mr-4"
                        disabled>save</button>
                    <button id="lower-modal-cancel-button"
                        class="close-lower w-[140px] bg-[#1eb8eb] hover:bg-[#0a6eeb] hover:text-white rounded py-2">cancel</button>
                </div>
                <!-- end modal body -->
            </div>
            <!-- end modal content -->
        </div>
        <!-- end lower modal -->


        <!-- start upper modal -->
        <div id="upper-modal"
            class="bg-[#00000055] overflow-auto transition-all duration-300 ease-in-out w-full flex fixed top-0 right-0 left-0 bottom-0 z-50 h-screen">
            <!-- modal content -->
            <div class="bg-white transition-all duration-300 ease-in-out m-auto w-[600px] shadow-lg rounded">
                <!-- modal header -->
                <div class="flex justify-between items-center p-7">
                    <div class="underline">
                        Create Condition
                    </div>
                    <div class="close-upper text-black cursor-pointer w-4 h-4">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5}
                            stroke="currentColor" className="w-6 h-6">
                            <path strokeLinecap="round" strokeLinejoin="round" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </div>
                </div>

                <div class="border border-gray-200 border-solid"></div>

                <!-- start modal body -->
                <div class="w-full p-7">
                    <!-- start inputs -->
                    <div class="w-full">
                        <label class="w-full">Attribute</label>
                        <div class="w-full">
                            <select id="attribute" class="w-full p-2 bg-white border border-[#cccccc] rounded">
                                <optgroup label="Attribute">
                                    <option value="Name">Name</option>
                                    <option value="Code">Code</option>
                                </optgroup>
                            </select>
                        </div>
                    </div>

                    <div class="w-full my-4">
                        <label class="w-full " id="operator-label">Operator</label>
                        <div class="w-full">
                            <select id="operator" class="w-full p-2 bg-white border border-[#cccccc] rounded">
                                <optgroup label="Value comparison">
                                    <option>is equal to</option>
                                    <option>is not equal to</option>
                                    <option>is greater than</option>
                                    <option>is greater than or equal to</option>
                                    <option>is less than</option>
                                    <option>is less than or equal to</option>
                                    <option>starts with</option>
                                    <option>does not start with</option>
                                    <option>ends with</option>
                                    <option>does not end with</option>
                                    <option>contains</option>
                                    <option>does not contain</option>
                                    <option>contains the pattern</option>
                                    <option>does not contain the pattern</option>
                                    <option>contains the subset</option>
                                    <option>does not contain the subset</option>
                                    <option>is between</option>
                                    <option>is not between</option>
                                    <option>has changed</option>
                                    <option>has not changed</option>
                                </optgroup>

                                <optgroup label="User defined script"></optgroup>
                            </select>
                        </div>
                    </div>

                    <div class="w-full my-4" div="operator-value-div">
                        <label class="w-full" id="operator-value-label">Is equal to</label>
                        <div class="w-full">
                            <select id="operator-value" class="w-full p-2 bg-white border border-[#cccccc] rounded">
                                <option value="Attribute value">Attribute value</option>
                                <option value="Attribute" selected>Attribute</option>
                                <option value="Blank">Blank</option>
                            </select>
                        </div>
                    </div>

                    <div class="w-full my-4" id="second-attribute-div">
                        <label class="w-full">Attribute</label>
                        <div class="w-full">
                            <select id="second-attribute" class="w-full p-2 bg-white border border-[#cccccc] rounded">
                                <optgroup label="Attributes">
                                    <option value="Name">Name</option>
                                    <option value="Code">Code</option>
                                </optgroup>
                            </select>
                            <label class="text-red-600 text-sm invisible" id="value-is-required">A value is
                                required.</label>
                        </div>
                    </div>

                    <div class="w-full -mt-3 hidden">
                        <div class="w-full">
                            <table class="border border-solid border-gray-100">
                                <thead class="border-t border-b border-solid border-gray-400">
                                    <tr class="py-2 w-full flex text-left">
                                        <th class="w-full flex-1 px-2"> 
                                            <span>Value Type</span>
                                        </th>
                                        <th class="w-full flex-1 px-2"> 
                                            <span>Value</span>
                                        </th>
                                        <th class="w-full flex-1 px-2"> 
                                            <span>Start</span>
                                        </th>
                                        <th class="w-full flex-1 px-2"> 
                                            <span>Length</span>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody class="border-t border-b border-solid border-gray-400">
                                    <tr class="py-2 w-full flex">
                                        <td class="w-full flex-1 mx-2">
                                            <select class="w-full border border-solid border-gray-400 p-2 rounded bg-white">
                                                <option value="0">Attribute</option>
                                                <option value="1">Text</option>
                                            </select>
                                        </td>
                                        <td class="w-full flex-1 mx-2">
                                            <select class="w-full border border-solid border-gray-400 p-2 rounded bg-white">
                                                <optgroup label="Attributes">
                                                    <option value="">Name</option>
                                                    <option value="">Code</option>
                                                </optgroup>
                                            </select>
                                        </td>
                                        <td class="w-full flex-1 mx-2">
                                            <input class="w-full border border-solid border-gray-400 px-2 py-[6px] rounded bg-white" type="number" min="1">
                                        </td>
                                        <td class="w-full flex-1 mx-2">
                                            <input class="w-full border border-solid border-gray-400 px-2 py-[6px] rounded bg-white" type="number" min="1">
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="border border-gray-200 border-solid"></div>
                <div class="w-full flex justify-end p-7 py-6">
                    <button id="save-upper" data-mode data-number
                        class="w-[140px] bg-[#1eb8eb] disabled:bg-[#a0b8c8] disabled:text-black hover:bg-[#0a6eeb] hover:text-white rounded py-2 mr-4">save</button>
                    <button
                        class="close-upper w-[140px] bg-[#1eb8eb] hover:bg-[#0a6eeb] hover:text-white rounded py-2">cancel</button>
                </div>
                <!-- end modal body -->
            </div>
            <!-- end modal content -->
        </div>
        <!-- end upper modal -->



        <!-- START right click menu -->
        <div id="context-menu"
            class="z-[99999] w-[150px] text-sm cursor-pointer py-1 fixed flex flex-row bg-white shadow-lg border border-solid border-gray-100 rounded"
            style="display:none">
            <ul>
                <li id="add" data-mode class="hover:bg-gray-200 px-7 py-1">
                    Add
                </li>
                <li id="edit" data-mode class="hover:bg-gray-200 px-7 py-1">
                    Edit
                </li>
                <li id="delete" data-mode class="hover:bg-gray-200 px-7 py-1">
                    Delete
                </li>
                <li id="group" class="hover:bg-gray-200 px-7 py-1 not-allowed">
                    Group
                </li>
                <li id="ungroup" class="hover:bg-gray-200 px-7 py-1 not-allowed">
                    Ungroup
                </li>
            </ul>
        </div>
        <!-- END right click menu -->
    </div>



    <script src="main.js"></script>
    <!-- <script src="{% static js/rule_engine/options.js  %}"></script>  -->

</body>

</html>